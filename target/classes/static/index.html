<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">





  <style>

    html, body {
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* ukrywa wszelki poziomy scroll */
  max-width: 100%;    /* zapobiega rozciąganiu się ponad szerokość okna */
  box-sizing: border-box;
}
*, *::before, *::after {
  box-sizing: inherit; /* Ujednolica box-sizing w całym dokumencie */
}



    /* Ustawienia globalne */
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #000; /* Czarne tło */
      color: #ddd; /* Jasny tekst dla czytelności */
    }

    /* Nagłówek */
    header {
      position: relative;
      background-color: #222;
      padding: 10px 20px;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    /* Sekcja flag */
    #langSwitcher {
      display: flex;
      align-items: center;
    }
    #langSwitcher button {
      background: none;
      border: none;
      cursor: pointer;
      margin-right: 5px;
    }
    #langSwitcher button img {
      width: 35px;
      height: auto;
      border-radius: 6px;
      filter: grayscale(100%);
      transition: filter 0.3s, transform 0.3s;
    }
    #langSwitcher button img:hover {
      filter: grayscale(0%);
      transform: scale(1.05);
    }

    /* Prawa sekcja nagłówka */
    .header-right {
      display: flex;
      align-items: center;
    }
    .header-right span {
      margin-right: 10px;
    }
    #logoutBtn {
      background-color: #555;
      color: #fff;
      border: none;
      padding: 8px 12px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
      margin-right: 5px;
    }
    #logoutBtn:hover {
      background-color: #777;
    }
    #toggleEmailBtn {
      background: none;
      border: none;
      color: #fff;
      font-size: 18px;
      cursor: pointer;
      margin-right: 10px;
      transition: transform 0.3s;
    }
    #toggleEmailBtn:hover {
      transform: scale(1.2);
    }

    /* Formularz zmiany e-maila */
    #emailContainer {
      position: absolute;
      top: 60px;
      right: 10px;
      display: none;
      background-color: #222;
      border: 1px solid #444;
      border-radius: 8px;
      padding: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.5);
      min-width: 220px;
      z-index: 999;
    }
    #emailContainer form {
      margin: 0;
    }
    input[type="email"], input[type="text"] {
      width: 100%;
      box-sizing: border-box;
      padding: 8px;
      margin: 5px 0 10px;
      border: 1px solid #444;
      border-radius: 4px;
      background-color: #333;
      color: #ddd;
    }
    button[type="submit"] {
      background-color: #555;
      color: #fff;
      border: none;
      padding: 10px 12px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
      position: relative;
      overflow: hidden;
    }
    button[type="submit"]:hover {
      background-color: #777;
    }
    .progress-bar {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 0;
      background-color: #222;
      transition: width 0.3s;
    }
    .loading {
      opacity: 0.8;
    }
    .loading .progress-bar {
      width: 100%;
      animation: progressLoop 1.2s linear infinite alternate;
    }
    @keyframes progressLoop {
      0% { width: 0%; }
      100% { width: 100%; }
    }

    /* Ustawienia gridu – 4 kafelki w rzędzie */
    .grid-container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      column-gap: -30px; /* odstęp poziomy */
      row-gap: 20px;    /* odstęp pionowy */
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    /* Wrapper dla sklepu: kafelek + nazwa sklepu pod nim */
    .shop-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Sam kafelek (logo) */
    .shop-tile {
      background-color: #111;
      border: 1px solid #333;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px;
      height: 140px;
      width: 180px;
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      margin-bottom: 10px; /* Odstęp pod kafelkiem na nazwę */
    }
    .shop-tile:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 30px rgba(255, 255, 255, 0.2);
      animation: shake 0.85s;
    }

    /* Kontener na logo */
    .logo-container {
      width: 150px;
      height: 150px;
      display: flex;            /* umożliwia wycentrowanie zawartości */
      align-items: center;      /* wyśrodkuj pionowo */
      justify-content: center;  /* wyśrodkuj poziomo */
    }
    /* Styl dla obrazka logo */
    .shop-tile img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }


.title-container {
  position: relative;
  width: 100%;          /* Cała szerokość strony */
  height: 60px;         /* Wysokość paska (dostosuj) */
  background: #000;     /* Czarne tło */
  overflow: hidden;     /* Ukrywa elementy wychodzące poza kontener */
}


    /* Nazwa sklepu – pod kafelkiem */
    .shop-name {
      font-size: 18px;
      font-weight: bold;
      color: #ccc;
      text-align: center;
    }

    /* Modal overlay */
    #modalOverlay {
  display: none;
  align-items: center;
  justify-content: center;

  /* Tło, rozmiar itp. jak wcześniej */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.7);
  /* Jeśli formularz jest szeroki, warto dodać np. */
  padding: 20px;
  z-index: 1000;
}
    #formContainer {
  /* Nieco szerszy formularz */
  width: 340px;          /* było 300px */
  max-height: 80vh;

  /* Pionowy scrollbar w samym #formContainer */
  overflow-y: auto;

  /* Wygląd i pozycja */
  background-color: #222;
  border: 1px solid #444;
  border-radius: 24px;
  box-shadow: 0 0 20px 5px rgba(255, 255, 255, 0.6);
  position: relative;

  /* KLUCZOWE: większy padding z prawej strony */
  padding: 20px;
  padding-right: 30px;  /* dodajemy zapas z prawej */

  /* Ustawiamy box-sizing na border-box (lub content-box – ważne, by brać pod uwagę padding) */
  box-sizing: border-box;
  color: #ddd;
}


    /* Stylizacje WebKitowe */
#formContainer::-webkit-scrollbar {
  width: 6px;                 /* szerokość paska przewijania */
}

#formContainer::-webkit-scrollbar-track {
  background: transparent;
}

#formContainer::-webkit-scrollbar-thumb {
  background: #666;         /* kolor uchwytu */
  border-radius: 4px;
}

#formContainer::-webkit-scrollbar-thumb:hover {
  background: #888;           /* jaśniejszy przy najechaniu */
}





.marquee-container {
  position: relative;
  width: 100%;        /* Pasek na całą szerokość strony */
  height: 40px;       /* Wysokość paska (dostosuj) */
  overflow: hidden;   /* Ukrywa tekst wychodzący poza obszar */
  background: #000;   /* Kolor tła */
  color: #fff;        /* Kolor tekstu */
  display: flex;
  align-items: center;/* Wyśrodkowanie pionowe */
}


.marquee-content {
  white-space: nowrap;
  /* Kluczowa animacja: przesuwanie od 0 do +50% szerokości
     (bo mamy 2 kopie, = 200% "bazowej" szerokości).
     10s -> czas trwania, zmień na dłuższy/krótszy dla wolniejszego/szybszego efektu
  */
  animation: marquee-l2r 10s linear infinite;
}

@keyframes marquee-l2r {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(50%);
  }
}


@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap');

.center-container {
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}
.marquee-text {
  /* Ustaw czcionkę na Montserrat w wersji pogrubionej */
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;

  /* Zwiększ odstępy między literami */
  letter-spacing: 2px;

  /* Dostosuj rozmiar czcionki w razie potrzeby */
  font-size: 24px;

  /* Dodatkowy styl – np. kolor */
  color: #fff;
}


    .closeBtn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      border: none;
      font-size: 18px;
      cursor: pointer;
      color: #ddd;
      transition: transform 0.2s;
    }
    .closeBtn:hover {
      transform: scale(1.2);
    }

    /* Formularz w modalu */
    #dynamicForm input[type="text"],
    #dynamicForm input[type="email"] {
      width: 100%;
      box-sizing: border-box;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #444;
      border-radius: 4px;
      background-color: #333;
      color: #ddd;
    }
    #dynamicForm button[type="submit"] {
      width: 100%;
      background-color: #555;
      color: #fff;
      border: none;
      padding: 12px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s;
      position: relative;
      overflow: hidden;
    }
    #dynamicForm button[type="submit"]:hover {
      background-color: #777;
    }

    .logo-white {
      filter: brightness(0) invert(1)
        drop-shadow(0 0 0px #fff)
        drop-shadow(0 0 0px #fff)
        drop-shadow(0 0 2px #fff);
      transition: filter 0.3s;
    }




    /* ============================================= */
/*   Ekrany do 992px szerokości (tablety, laptopy małe) */
/* ============================================= */
@media (max-width: 992px) {
  /* Zamiast 4 kolumn -> 2 kolumny */
  .grid-container {
    grid-template-columns: repeat(2, 1fr);
  }

  /* Kafelki niech będą automatycznej szerokości */
  .shop-tile {
    width: auto;
    height: 120px; /* można zmniejszyć wysokość */
  }

  /* Logo w kafelku też trochę mniejsze */
  .logo-container {
    width: 100px;
    height: 100px;
  }

  /* Nazwa sklepu minimalnie mniejsza */
  .shop-name {
    font-size: 16px;
  }

  /* Formularz (modal) może mieć szerokość w % */
  #formContainer {
    width: 60vw;         /* Zamiast sztywnego 340px */
    max-height: 80vh;
    padding-right: 20px; /* Trochę mniejszy padding z prawej */
    border-radius: 16px;
  }
}



.file-input-wrapper {
  display: flex;
  align-items: center;
  gap: 6px;           /* Odstęp między inputem a przyciskiem */
  margin-bottom: 10px;
}

.file-input-wrapper input[type="text"] {
  flex: 1;           /* Żeby pole tekstowe rozszerzało się na całą szerokość */
  box-sizing: border-box;
  padding: 8px;
  border: 1px solid #8174A0;
  border-radius: 4px;
}

/* Styl przycisku „Wybierz plik” */
.file-upload-btn {
  display: inline-block;
  background-color: #333;    /* ciemne tło */
  color: #fff;
  padding: 8px 12px;
  border-radius: 5px;        /* zaokrąglone rogi */
  cursor: pointer;
  transition: background-color 0.3s;
}

.file-upload-btn:hover {
  background-color: #555;    /* jaśniejszy przy hover */
}




@keyframes shake {
  0%   { transform: scale(1.05) translate(0, 0); }
  10%  { transform: scale(1.05) translate(-0.5px, 0.5px); }
  20%  { transform: scale(1.05) translate(-0.5px, -0.5px); }
  30%  { transform: scale(1.05) translate(0.5px, 0.5px); }
  40%  { transform: scale(1.05) translate(0.5px, -0.5px); }
  50%  { transform: scale(1.05) translate(-0.5px, 0.5px); }
  60%  { transform: scale(1.05) translate(-0.5px, -0.5px); }
  70%  { transform: scale(1.05) translate(0.5px, 0.5px); }
  80%  { transform: scale(1.05) translate(0.5px, -0.5px); }
  90%  { transform: scale(1.05) translate(-0.5px, 0.5px); }
  100% { transform: scale(1.05) translate(0, 0); }
}


/* Dla telefonów – ekrany do 576px szerokości */
@media (max-width: 576px) {

  /* Dwie kolumny, jednakowe odstępy, wycentrowane */
  .grid-container {
    /* Zamiast repeat(4, 1fr) – dwie kolumny */
    grid-template-columns: repeat(2, 1fr);
    /* Zmniejszone odstępy między kafelkami */
    gap: 10px;
    /* Niewielki padding wokół */
    padding: 10px;
    /* Wyśrodkuj grid w poziomie (opcjonalnie) */
    justify-content: center;
  }


  /* Kafelki – mniejsze wymiary, by nie wymuszały szerokości > ekranu */
  .shop-tile {
    width: auto;       /* Pozwól się dopasować do kolumny */
    height: 110px;     /* Mniejsza wysokość */
  }

  /* Logo w kafelku też mniejsze */
  .logo-container {
    width: 80px;
    height: 80px;
  }

  .shop-name {
    font-size: 14px;
  }

  /* Formularz (modal) – dopasowanie do szerokości ekranu */
  #formContainer {
    width: 85vw;       /* 85% szerokości ekranu */
    max-height: 80vh;
    padding-right: 15px;
    border-radius: 12px;
  }

  /* Przenieś flagi na dół ekranu */
  #langSwitcher {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background-color: #222;
    padding: 5px 0;
    display: flex;
    justify-content: center;
    border-top: 1px solid #444;
    z-index: 1001;
    margin: 0;
  }

  /* Nagłówek – pozwól zawijać elementy, by dane się mieściły */
  header {
    padding: 10px;
    flex-wrap: wrap; /* Pozwala elementom w nagłówku się zawijać */
  }
/* Formularz (modal) – dopasuj szerokość do ekranu w % */
  #formContainer {
    width: 85vw;      /* 85% szerokości okna */
    max-height: 80vh; /* Zachowaj limit wysokości */
    padding-right: 15px;
  }
}


@media (max-width: 768px) {
  .grid-container {
    /* Dwie kolumny, każda ma co najmniej 160px i rośnie do szerokości ekranu */
    grid-template-columns: repeat(2, minmax(160px, 1fr));
    gap: 15px;         /* odstęp między kafelkami */
    padding: 15px;     /* nieco większy padding */
    justify-content: center; /* wyśrodkowanie siatki */
  }

  /* Kafelek ma wypełniać całą kolumnę */
  .shop-tile {
    width: 100%;
    height: 160px; /* większa wysokość, aby wyglądało proporcjonalnie */
  }

  /* Logo również większe */
  .logo-container {
    width: 120px;
    height: 120px;
  }

  /* Nieco większy font nazwy sklepu, by pasował do szerokości */
  .shop-name {
    font-size: 16px;
  }

  /* Formularz (modal) – np. 70% szerokości */
  #formContainer {
    width: 70vw;
    max-height: 80vh;
    padding-right: 20px;
    border-radius: 14px;
  }
}


@media (max-width: 640px) {
  header {
    /* Mniejsza minimalna wysokość nagłówka */
    min-height: 80px;
    /* Pozwalamy elementom się zawijać w kolejne wiersze */
    flex-wrap: wrap;
    /* Wyrównujemy wszystko do środka w poziomie i pionie */
    align-items: center;
    justify-content: center;
    /* Trochę mniejszy padding, żeby nie zostawało za dużo pustego miejsca */
    padding: 10px;
  }

  /* Sekcja z danymi w nagłówku – również wyśrodkowana */
  .header-right {
    display: flex;
    flex-wrap: wrap;  /* elementy mogą przejść do nowej linii */
    align-items: center;
    justify-content: center;
    gap: 5px;         /* odstęp między poszczególnymi elementami */
  }

  /* Etykiety i wartości bliżej siebie – np. mniejszy margines */
  .header-right span {
    margin-right: 3px; /* zmniejszamy domyślny margines */
    line-height: 1.2;  /* nieco mniejsza interlinia */
  }
  .grid-container {
    padding-bottom: 70px; /* lub margin-bottom: 70px; */
  }
}




  </style>
</head>
<body>
<header>
  <!-- Flagi językowe -->
  <div id="langSwitcher">
    <button onclick="setLanguage('pl')">
      <img src="https://upload.wikimedia.org/wikipedia/en/thumb/1/12/Flag_of_Poland.svg/60px-Flag_of_Poland.svg.png" alt="Polski" title="Polski">
    </button>
    <button onclick="setLanguage('en')">
      <img src="https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/60px-Flag_of_the_United_States.svg.png" alt="English" title="English">
    </button>
  </div>

  <!-- Informacje o koncie -->
  <div class="header-right">
    <!-- Nowy kontener, w którym umieszczamy same napisy -->
    <div class="header-right-text">
      <span id="labelId">ID:</span> <span id="accountId">Loading...</span>
      <span id="labelEmail">E-mail:</span> <span id="emailDisplay">Loading...</span>
      <span id="labelConfirmations">Potwierdzenia:</span> <span id="confirmationInfo">Loading...</span>
    </div>

    <!-- Strzałka i wyloguj pozostają na prawo -->
    <button id="toggleEmailBtn">▼</button>
    <button id="logoutBtn" onclick="logout()">Wyloguj</button>

    <div id="emailContainer">
      <form id="emailForm">
        <label for="newEmail" id="emailLabel">Ustaw e-mail:</label><br>
        <input type="email" id="newEmail" name="newEmail" required placeholder="example@gmail.com"><br>

        <label for="confirmEmail">Powtórz e-mail:</label><br>
        <input type="email" id="confirmEmail" name="confirmEmail" required placeholder="example@gmail.com"><br>

        <small style="display: block; margin-top: 5px; color: #bbb;">
          Uwaga: Możesz ustawić e-mail tylko raz.
        </small><br>

        <button type="submit" id="emailBtn">Ustaw</button>
      </form>
    </div>

    <script>
      document.getElementById("emailForm").addEventListener("submit", function(e) {
        e.preventDefault(); // Blokujemy domyślny submit, bo zrobimy go fetch-em

        const userId = localStorage.getItem("loggedUserId");
        const newEmail = document.getElementById("newEmail").value.trim();
        const confirmEmail = document.getElementById("confirmEmail").value.trim();

        // Sprawdzamy, czy pola się zgadzają
        if (newEmail !== confirmEmail) {
          alert("Podane adresy e-mail nie są zgodne. Spróbuj ponownie.");
          return;
        }

        // Tworzymy obiekt, który wyślemy w body
        const payload = {
          userId: userId,
          newEmail: newEmail,
          confirmEmail: confirmEmail
        };

        // Wywołujemy PUT /api/account/updateEmail
        fetch("/api/account/updateEmail", {
          method: "PUT",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify(payload)
        })
        .then(response => {
          if (!response.ok) {
            // Obsługa błędu np. 403, 400, 500 itp.
            return response.text().then(text => {
              alert("Błąd: " + text);
            });
          }
          // Gdy ok
          return response.text().then(text => {
            alert("Sukces: " + text);
          });
        })
        .catch(err => {
          console.error(err);
          alert("Wystąpił problem z połączeniem.");
        });
      });
    </script>



  </div>
</header>

<!-- Kafelki sklepów -->
<div class="grid-container">

  <!-- Każdy sklep: wrapper -> kafelek (tylko logo) + nazwa pod kafelkiem -->
  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('StockX')">
      <div class="logo-container">
        <img src="images/logostockx.png" alt="StockX Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">StockX</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('Zalando')">
      <div class="logo-container">
        <img src="images/logozalando.png" alt="Zalando Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Zalando</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('MediaExpert')">
      <div class="logo-container">
        <img src="images/logomedia.png" alt="Media Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">MediaExpert</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('Dropsy')">
      <div class="logo-container">
        <img src="images/logodropsy.png" alt="Dropsy Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Dropsy</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('Vitkac')">
      <div class="logo-container">
        <img src="images/logovitkac.png" alt="Vitkac Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Vitkac</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('Grailed')">
      <div class="logo-container">
        <img src="images/logograiled.png" alt="Grailed Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Grailed</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('Farfetch')">
      <div class="logo-container">
        <img src="images/logofarfetch.png" alt="Farfetch Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Farfetch</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('Dorawa')">
      <div class="logo-container">
        <img src="images/logodorawa.png" alt="Dorawa Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Dorawa</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('corteiz')">
      <div class="logo-container">
        <img src="images/logocorteiz.png" alt="Corteiz Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Corteiz</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('nike')">
      <div class="logo-container">
        <img src="images/logonike.png" alt="Nike Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Nike</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('confirmed')">
      <div class="logo-container">
        <img src="images/logoconfirmed.png" alt="Confirmed Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Confirmed</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('snkrs')">
      <div class="logo-container">
        <img src="images/logosnkrs.png" alt="Snkrs Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Snkrs</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('grail point')">
      <div class="logo-container">
        <img src="images/logograil.png" alt="Grail Point Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Grail Point</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('moncler')">
      <div class="logo-container">
        <img src="images/logomoncler.png" alt="Moncler Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Moncler</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('trapstar')">
      <div class="logo-container">
        <img src="images/logotrapstar.png" alt="Trapstar Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Trapstar</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('notino')">
      <div class="logo-container">
        <img src="images/logonotino.png" alt="Notino Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Notino</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('supreme')">
      <div class="logo-container">
        <img src="images/logosupreme.png" alt="Supreme Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Supreme</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('goat')">
      <div class="logo-container">
        <img src="images/logogoat.png" alt="Goat Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Goat</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('ralph lauren')">
      <div class="logo-container">
        <img src="images/logoralph.png" alt="Ralph Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Ralph Lauren</span>
  </div>

  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('balenciaga')">
      <div class="logo-container">
        <img src="images/logobalenciaga.png" alt="Balenciaga Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Balenciaga</span>
  </div>


  <div class="shop-wrapper">
    <div class="shop-tile" onclick="openShopForm('louis vuitton')">
      <div class="logo-container">
        <img src="images/logolv.png" alt="Lv Logo" class="logo-white">
      </div>
    </div>
    <span class="shop-name">Louis Vuitton</span>
  </div>
</div>
<script>
  function updateText() {
    document.getElementById('labelId').innerText = translations[currentLanguage].header.id;
    document.getElementById('labelEmail').innerText = translations[currentLanguage].header.email;
    document.getElementById('labelConfirmations').innerText = translations[currentLanguage].header.confirmations;
    document.getElementById('logoutBtn').innerText = translations[currentLanguage].header.logout;
    document.getElementById('emailLabel').innerText = translations[currentLanguage].emailForm.label;
    document.getElementById('emailBtn').innerText = translations[currentLanguage].emailForm.button;
  }
  function setLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('lang', lang);
    updateText();
    if (currentLanguage === 'en') {
      document.getElementById('mediaexpertTile').style.display = 'none';
      document.getElementById('zalandoTile').style.display = 'none';
    } else {
      document.getElementById('mediaexpertTile').style.display = 'block';
      document.getElementById('zalandoTile').style.display = 'block';
    }
  }
  function loadAccountData() {
    const userId = localStorage.getItem("loggedUserId");
    if (!userId) {
      alert(translations[currentLanguage].noUser);
      window.location.href = "login.html";
      return;
    }
    fetch('/api/account/' + userId)
      .then(response => {
        if (!response.ok) throw new Error(translations[currentLanguage].errorAccountData + response.statusText);
        return response.json();
      })
      .then(data => {
        document.getElementById('accountId').innerText = data.userId;
        document.getElementById('emailDisplay').innerText = data.email ? data.email : "Brak e-maila";
        if (data.accountType.toLowerCase() === "limit") {
          document.getElementById('confirmationInfo').innerText = data.usageLimit;
        } else if (data.accountType.toLowerCase() === "time") {
          if (data.expirationDate) {
            const date = new Date(data.expirationDate);
            document.getElementById('confirmationInfo').innerText = "Wygasa: " + date.toLocaleString();
          } else {
            document.getElementById('confirmationInfo').innerText = "Czasowe (brak daty)";
          }
        } else {
          document.getElementById('confirmationInfo').innerText = "Unlimited";
        }
      })
      .catch(error => {
        console.error(error);
        document.getElementById('accountId').innerText = "Error";
        document.getElementById('emailDisplay').innerText = "Error";
        document.getElementById('confirmationInfo').innerText = "Error";
      });
  }
  let currentLanguage = localStorage.getItem('lang') || 'pl';
  const translations = {
    pl: {
      header: { id: "ID:", email: "E-mail:", confirmations: "Potwierdzenia:", logout: "Wyloguj" },
      emailForm: { label: "Nowy e-mail:", button: "Ustaw" },
      shopForm: {
        title: "",
        productName: "Nazwa produktu:",
        price: "Cena:",
        productCode: "Kod produktu:",
        photo: "Link do zdjęcia:",
        deliveryTime: "Czas dostawy:",
        deliveryDate: "Data zamówienia:",
        address: "Adres dostawy:",
        city: "Kod i miasto:",
        phoneNumber: "Ostatnie 3 cyfry numeru:",
        submit: "Wyślij potwierdzenie"
      },
      noUser: "Brak zalogowanego użytkownika. Zaloguj się ponownie.",
      errorAccountData: "Błąd przy pobieraniu danych konta:",
      errorSending: "Błąd przy wysyłaniu potwierdzenia:",
      successEmail: "Sukces: ",
      errorEmail: "Błąd: "
    },
    en: {
      header: { id: "ID:", email: "Email:", confirmations: "Confirmations:", logout: "Logout" },
      emailForm: { label: "New email:", button: "Change Email" },
      shopForm: {
        title: "Generating receipt for",
        productName: "Product Name:",
        price: "Price:",
        productCode: "Product Code:",
        photo: "Photo URL:",
        deliveryTime: "Delivery Time:",
        deliveryDate: "Order Date:",
        address: "Delivery Address:",
        city: "Postal Code and City:",
        phoneNumber: "Last 3 digits of phone number:",
        submit: "Submit Receipt"
      },
      noUser: "No logged in user. Please log in again.",
      errorAccountData: "Error fetching account data:",
      errorSending: "Error sending receipt:",
      successEmail: "Success: ",
      errorEmail: "Error: "
    }
  };
  function openShopForm(shopName) {
    document.getElementById('modalOverlay').style.display = 'flex';
    let formHtml = `<h2>${translations[currentLanguage].shopForm.title} ${shopName}</h2>
      <form id="dynamicForm">`;
    if (shopName.toLowerCase() === "stockx") {
  formHtml += `
    <!-- Formularz dla StockX -->
    <label for="productName">Nazwa produktu:</label><br>
    <input type="text" id="productName" required placeholder="Np.: Nike Air Max 90"><br>

    <label for="price">Cena ($):</label><br>
    <input type="text" id="price" required placeholder="Np.: 249"><br>

    <label for="styleid">Style ID:</label><br>
    <input type="text" id="styleid" placeholder="Np.: CZ0910-100"><br>

    <label for="size">Rozmiar:</label><br>
    <input type="text" id="size" placeholder="Np.: EU 44/L"><br>

    <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>

    <label for="deliveryTime">Czas dostawy:</label><br>
    <input type="text" id="deliveryTime" placeholder="Np.: February 5, 2025"><br>
  `;
}


    else if (shopName.toLowerCase() === "mediaexpert") {
      formHtml += `
        <label for="productName">Nazwa produktu:</label><br>
        <input type="text" id="productName" required placeholder="Np.: Samsung Galaxy S21"><br>
        <label for="price">Cena (zł):</label><br>
        <input type="text" id="price" required placeholder="Np. 1279.00"><br>
        <label for="productCode">Kod produktu:</label><br>
        <input type="text" id="productCode" required placeholder="Np.: 591721"><br>
        <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
        <label for="deliveryTime">Data dostawy:</label><br>
        <input type="text" id="deliveryTime" required placeholder="Np.: 2025-01-31"><br>
        <label for="address">Nazwa paczkomatu:</label><br>
        <input type="text" id="address" required placeholder="Np.: WAW210M"><br>
        <label for="city">Kod pocztowy i miasto:</label><br>
        <input type="text" id="city" required placeholder="Np.: 02-022 Warszawa"><br>
        <label for="phoneNumber">Ostatnie 3 cyfry numeru:</label><br>
        <input type="text" id="phoneNumber" required placeholder="Np.: 123"><br>
      `;
    }
    else if (shopName.toLowerCase() === "zalando") {
      formHtml += `
        <!-- Pola do nazwy, kategorii i koloru produktu -->
        <label for="productName">Marka:</label><br>
        <input type="text" id="productName" placeholder="Np.: Polo Ralph Lauren"><br>
        <label for="productCat">Kategoria/Nazwa:</label><br>
        <input type="text" id="productCat" placeholder="Np.: Bluza rozpinana"><br>
        <label for="productColor">Kolor produktu:</label><br>
        <input type="text" id="productColor" placeholder="Np.: black"><br>
        <!-- Pola do ceny, rozmiaru i linku do zdjęcia -->
        <label for="price">Cena (zł):</label><br>
        <input type="text" id="price" placeholder="Np.: 759,99"><br>
        <label for="size">Rozmiar:</label><br>
        <input type="text" id="size" placeholder="Np.: L/45"><br>
        <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
        <!-- Pola do dat zamówienia i dostawy, adresu, miasta i imienia/nazwiska -->
        <label for="orderDate">Data zamówienia:</label><br>
        <input type="text" id="orderDate" placeholder="Wprowadź datę (YYYY-MM-DD)" required><br>
        <label for="deliveryArrived">Przewidywana data dostawy:</label><br>
        <input type="text" id="deliveryArrived" placeholder="Generowane automatycznie" required><br>
        <label for="address">Adres dostawy:</label><br>
        <input type="text" id="address" placeholder="Np.: Idzikowskiego 15" required><br>
        <label for="city">Kod i miasto:</label><br>
        <input type="text" id="city" placeholder="Np.: 02-022 Warszawa" required><br>
        <label for="userName">Imię i nazwisko:</label><br>
        <input type="text" id="userName" placeholder="Np.: Jan Kowalski" required><br>
      `;
    }
    else if (shopName.toLowerCase() === "dropsy") {
      formHtml += `
        <label for="productName">Nazwa produktu:</label><br>
        <input type="text" id="productName" placeholder="Np.: Air Jordan 4 Retro Midnight Navy"><br>
        <label for="price">Cena (zł):</label><br>
        <input type="text" id="price" placeholder="Np.: 1799"><br>
        <label for="paczkomat">Adres paczkomatu:</label><br>
        <input type="text" id="paczkomat" placeholder="Np.: 1 Praskiego Pułku WP 31, 05-075 Warszawa"><br>
        <label for="deliveryTime">Data zamówienia:</label><br>
        <input type="text" id="deliveryTime" placeholder="Np.: 13 stycznia 2024"><br>
        <label for="address">Adres dostawy:</label><br>
        <input type="text" id="address" placeholder="Np.: Idzikowskiego 15"><br>
        <label for="city">Kod pocztowy i miasto:</label><br>
        <input type="text" id="city" placeholder="Np.: 02-022 Warszawa"><br>
        <label for="userName">Imię i nazwisko:</label><br>
        <input type="text" id="userName" placeholder="Np.: Factory Receipt"><br>
        <label for="phoneNumber">Numer telefonu:</label><br>
        <input type="text" id="phoneNumber" placeholder="Np.: +48 123 123 123"><br>
        <label for="emailDane">Podaj email na potwierdzeniu:</label><br>
        <input type="text" id="emailDane" placeholder="Np.: mail@gmail.com"><br>
      `;
    }
    else if (shopName.toLowerCase() === "vitkac") {
      formHtml += `
        <label for="productName">Nazwa produktu</label><br>
        <input type="text" id="productName" required placeholder="Np.: Stone Island Stone Island CZARNY Kurtka z logo"><br>
        <label for="price">Cena (zł)</label><br>
        <input type="text" id="price" required placeholder="Np.: 6500"><br>
        <label for="size">Rozmiar Produktu (opcjonalnie)</label><br>
        <input type="text" id="size" placeholder="Np.: 10,5/L"><br>
        <label for="emailDane">E-mail jaki ma być na e-mailu</label><br>
        <input type="text" id="emailDane" placeholder="Np.: mail@gmail.com"><br>
        <label for="userName">Imię i Nazwisko</label><br>
        <input type="text" id="userName" required placeholder="Np.: Factory Receipt"><br>
        <label for="address">Adres dostawy</label><br>
        <input type="text" id="address" required placeholder="Np.: Idzikowskiego 15"><br>
        <label for="city">Kod pocztowy i miasto</label><br>
        <input type="text" id="city" required placeholder="Np.: 02-022 Warszawa"><br>
        <label for="country">Kraj</label><br>
        <input type="text" id="country" required placeholder="Np.: Polska"><br>
        <label for="phoneNumber">Numer telefonu</label><br>
        <input type="text" id="phoneNumber" required placeholder="Np.: 123 123 123"><br>
      `;
    }
    else if (shopName.toLowerCase() === "grailed") {
      formHtml += `
        <label for="price">Cena ($):</label><br>
        <input type="text" id="price" placeholder="Np.: 300"><br>
        <label for="size">Rozmiar:</label><br>
        <input type="text" id="size" placeholder="Np.: Men's / US 9 / EU 40"><br>
        <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
        <label for="userName">Imię i nazwisko:</label><br>
        <input type="text" id="userName" placeholder="Np.: Factory Receipt"><br>
        <label for="address">Adres dostawy:</label><br>
        <input type="text" id="address" placeholder="Np.: Idzikowskiego 15"><br>
        <label for="city">Kod pocztowy i miasto:</label><br>
        <input type="text" id="city" placeholder="Np.: 02-022 Warszawa"><br>
        <label for="country">Kraj sprzedawcy:</label><br>
        <input type="text" id="country" placeholder="Np.: United States"><br>
        <label for="productName">Marka produktu:</label><br>
        <input type="text" id="productName" placeholder="Np.: New Balance"><br>
        <label for="productCat">Nazwa produktu:</label><br>
        <input type="text" id="productCat" placeholder="Np.: 550 Sneakers"><br>
        <label for="productColor">Kolor produktu:</label><br>
        <input type="text" id="productColor" placeholder="Np.: black"><br>
        <label for="condition">Stan produktu:</label><br>
        <input type="text" id="condition" placeholder="Np.: New"><br>
      `;
    }
    else if (shopName.toLowerCase() === "farfetch") {
      formHtml += `
        <label for="userName">Imię i nazwisko:</label><br>
        <input type="text" id="userName" placeholder="Np.: Factory Receipt"><br>
        <label for="street">Adres (ulica):</label><br>
        <input type="text" id="street" placeholder="Np.: Idzikowskiego 15"><br>
        <label for="city">Miasto:</label><br>
        <input type="text" id="city" placeholder="Np.: Warszawa"><br>
        <label for="wojew">Kod Pocztowy:</label><br>
        <input type="text" id="wojew" placeholder="Np.: 02-022"><br>
        <label for="country">Kraj:</label><br>
        <input type="text" id="country" placeholder="Np.: Poland"><br>
        <label for="productName">Nazwa produktu:</label><br>
        <input type="text" id="productName" placeholder="Np.: Yeezy slide"><br>
        <label for="price">Cena (zł):</label><br>
        <input type="text" id="price" placeholder="Np.: 600"><br>
        <label for="size">Rozmiar produktu:</label><br>
        <input type="text" id="size" placeholder="Np.: 44 1/2"><br>
        <label for="product_cat">Marka produktu:</label><br>
        <input type="text" id="product_cat" placeholder="Np.: Stone Island"><br>
        <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
        <label for="delivery_time">Przewidywany czas dostawy 1/2:</label><br>
        <input type="text" id="delivery_time" placeholder="Np.: 2/18/2025"><br>

      `;
    }
    else if (shopName.toLowerCase() === "dorawa") {
      formHtml += `
        <label for="userName">Imię i nazwisko:</label><br>
        <input type="text" id="userName" placeholder="Np.: Factory Receipt"><br>
        <label for="address">Adres (ulica):</label><br>
        <input type="text" id="address" placeholder="Np.: Idzikowskiego 15"><br>
        <label for="city">Kod pocztowy i miasto:</label><br>
        <input type="text" id="city" placeholder="Np.: 02-022 Warszawa"><br>
        <label for="productName">Nazwa produktu:</label><br>
        <input type="text" id="productName" placeholder="Np.: Jordan 4 Retro White Thunder [GS]"><br>
        <label for="price">Cena (zł):</label><br>
        <input type="text" id="price" placeholder="Np.: 1279,00"><br>
        <label for="size">Rozmiar Produktu:</label><br>
        <input type="text" id="size" placeholder="Np.: 44.5Eu"><br>
        <label for="productCode">Kod produktu:</label><br>
        <input type="text" id="productCode" placeholder="Np.: FZ8320-400"><br>
      `;
    }
    else if (shopName.toLowerCase() === "corteiz") {
      formHtml += `
        <label for="product_name">Nazwa produktu:</label><br>
        <input type="text" id="product_name" placeholder="Np.: ALCATRAZ HOODIE 2024 [BLACK]"><br>
        <label for="price">Cena (£):</label><br>
        <input type="text" id="price" placeholder="Np.: 110.00"><br>
        <label for="size">Rozmiar produktu:</label><br>
        <input type="text" id="size" placeholder="Np.: LARGE/MEDIUM"><br>
        <label for="userName">Imię i nazwisko:</label><br>
        <input type="text" id="userName" placeholder="Np.: Factory Receipt"><br>
        <label for="street">Adres dostawy:</label><br>
        <input type="text" id="street" placeholder="Np.: Idzikowskiego 15"><br>
        <label for="city">Miasto:</label><br>
        <input type="text" id="city" placeholder="Np.: Warszawa"><br>
        <label for="country">Kraj:</label><br>
        <input type="text" id="country" placeholder="Np.: Poland"><br>
        <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
      `;
    }
    else if (shopName.toLowerCase() === "nike") {
      formHtml += `
        <label for="userName">Imię i nazwisko:</label><br>
        <input type="text" id="userName" placeholder="Np.: Factory Receipt"><br>
        <label for="productName">Nazwa produktu:</label><br>
        <input type="text" id="productName" placeholder="Np.: Nike Air Max Plus Drift"><br>
        <label for="price">Cena (zł):</label><br>
        <input type="text" id="price" placeholder="Np.: 479,99"><br>
        <label for="size">Rozmiar produktu:</label><br>
        <input type="text" id="size" placeholder="Np.: 44/L"><br>
        <label for="address">Adres dostawy:</label><br>
        <input type="text" id="address" placeholder="Np.: Idzikowskiego 15"><br>
        <label for="city">Kod pocztowy i miasto:</label><br>
        <input type="text" id="city" placeholder="Np.: 02-022 Warszawa"><br>
        <label for="country">Kraj:</label><br>
        <input type="text" id="country" placeholder="Np.: POLAND"><br>
        <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
        <label for="delivery_time">Data zamówienia:</label><br>
        <input type="text" id="delivery_time" placeholder="Np.: 22.07.2024"><br>
        <label for="delivery_arrived">Przewidywana data dostawy:</label><br>
        <input type="text" id="delivery_arrived" placeholder="Np.: 25.07.2024"><br>
        <label for="product_cat">Kategoria produktu:</label><br>
        <input type="text" id="productCat" placeholder="Np.: Buty/Kurtka męskie/męska"><br>
      `;
    }
    else if (shopName.toLowerCase() === "confirmed") {
      formHtml += `
        <label for="userName">Imię i nazwisko:</label><br>
        <input type="text" id="userName" placeholder="Np.: Factory Receipt"><br>
        <label for="street">Adres:</label><br>
        <input type="text" id="street" placeholder="Np.: Idzikowskiego 15"><br>
        <label for="city">Miasto:</label><br>
        <input type="text" id="city" placeholder="Np.: Warszawa"><br>
        <label for="wojew">Kod Pocztowy i Kraj:</label><br>
        <input type="text" id="wojew" placeholder="Np.: 02-022 PL"><br>
        <label for="productName">Nazwa produktu:</label><br>
        <input type="text" id="productName" placeholder="Np.: Yeezy slide"><br>
        <label for="productColor">Kolor produktu:</label><br>
        <input type="text" id="productColor" placeholder="Np.: szary"><br>
        <label for="price">Cena (zł):</label><br>
        <input type="text" id="price" placeholder="Np.: 600"><br>
        <label for="size">Rozmiar produktu:</label><br>
        <input type="text" id="size" placeholder="Np.: 44 1/2"><br>
        <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
        <label for="productCode">Kod produktu:</label><br>
        <input type="text" id="productCode" placeholder="Np.: HQ6448"><br>
      `;
    }
    else if (shopName.toLowerCase() === "snkrs") {
      formHtml += `
        <label for="product_name">Nazwa produktu:</label><br>
        <input type="text" id="product_name" required placeholder="Np.: ACG Rufus Black"><br>
        <label for="price">Cena (zł):</label><br>
        <input type="text" id="price" required placeholder="Np.: 479,99"><br>
        <label for="size">Rozmiar produktu:</label><br>
        <input type="text" id="size" placeholder="Np.: 44/L"><br>
        <label for="user_name">Imię i nazwisko:</label><br>
        <input type="text" id="user_name" required placeholder="Np.: Factory Receipt"><br>
        <label for="address">Adres dostawy:</label><br>
        <input type="text" id="address" required placeholder="Np.: Idzikowskiego 15"><br>
        <label for="city">Kod pocztowy i miasto:</label><br>
        <input type="text" id="city" required placeholder="Np.: Warszawa 02-022"><br>
        <label for="country">Kraj:</label><br>
        <input type="text" id="country" required placeholder="Np.: Polska"><br>
        <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
        <label for="delivery_time">Data zamówienia:</label><br>
        <input type="text" id="delivery_time" placeholder="Np.: 22/07/2024"><br>
        <label for="delivery_arrived">Przewidywana data dostawy:</label><br>
        <input type="text" id="delivery_arrived" placeholder="Np.: 25.07.2024"><br>
        <label for="product_cat">Kategoria produktu:</label><br>
        <input type="text" id="product_cat" placeholder="Np.: Buty/Kurtka męskie/męska"><br>
      `;
    }
    else if (shopName.toLowerCase() === "grail point") {
      formHtml += `
        <label for="product_name">Nazwa produktu:</label><br>
        <input type="text" id="product_name" placeholder="Np.: Roach Tee Stussy"><br>
        <label for="price">Cena (zł):</label><br>
        <input type="text" id="price" placeholder="Np.: 549.00"><br>
        <label for="user_name">Imię i nazwisko:</label><br>
        <input type="text" id="user_name" placeholder="Np.: Factory Receipt"><br>
        <label for="size">Rozmiar:</label><br>
        <input type="text" id="size" placeholder="Np.: 45/L"><br>
        <label for="delivery_time">Data zamówienia:</label><br>
        <input type="text" id="delivery_time" placeholder="Np.: 23 września 2024"><br>
        <label for="street">Adres dostawy:</label><br>
        <input type="text" id="street" placeholder="Np.: Idzikowskiego 13"><br>
        <label for="city">Kod pocztowy i miasto:</label><br>
        <input type="text" id="city" placeholder="Np.: 02-022, Warszawa"><br>
        <label for="phone_number">Numer telefonu:</label><br>
        <input type="text" id="phone_number" placeholder="Np.: 111222333"><br>
        <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
      `;
    }
    else if (shopName.toLowerCase() === "moncler") {
      formHtml += `
        <label for="price">Cena (€):</label><br>
        <input type="text" id="price" placeholder="Np.: 1.600,00"><br>
        <label for="size">Rozmiar:</label><br>
        <input type="text" id="size" placeholder="Np.: L"><br>
        <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
        <label for="user_name">Imię i nazwisko:</label><br>
        <input type="text" id="user_name" placeholder="Np.: Factory Receipt"><br>
        <label for="street">Adres dostawy:</label><br>
        <input type="text" id="street" placeholder="Np.: Idzikowskiego 15"><br>
        <label for="city">Kod pocztowy i miasto:</label><br>
        <input type="text" id="city" placeholder="Np.: Warszawa, 02-022"><br>
        <label for="country">Kraj:</label><br>
        <input type="text" id="country" placeholder="Np.: Poland"><br>
        <label for="product_name">Nazwa produktu:</label><br>
        <input type="text" id="product_name" placeholder="Np.: Maljasset Hooded Short Down Jacket"><br>
        <label for="product_color">Kolor produktu:</label><br>
        <input type="text" id="product_color" placeholder="Np.: Black"><br>
        <label for="condition">Data zamówienia:</label><br>
        <input type="text" id="condition" placeholder="Np.: 03 Dec 2024"><br>
      `;
    }
<!-- Ralph Lauren Form -->
else if (shopName.toLowerCase() === "ralph lauren") {
  formHtml += `
    <label for="delivery_time">Data zamówienia:</label><br>
    <input type="text" id="delivery_time" placeholder="Np.: 01/01/2024"><br>

    <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>

    <label for="product_name">Nazwa produktu:</label><br>
    <input type="text" id="product_name" placeholder="Np.: Ralph Lauren Polo Shirt"><br>

    <label for="product_color">Kolor produktu:</label><br>
    <input type="text" id="product_color" placeholder="Np.: Blue"><br>

    <label for="size">Rozmiar:</label><br>
    <input type="text" id="size" placeholder="Np.: M"><br>

    <label for="styleid">Style ID:</label><br>
    <input type="text" id="styleid" placeholder="Np.: RL1234"><br>

    <label for="price">Cena (zł):</label><br>
    <input type="text" id="price" placeholder="Np.: 599,00"><br>

    <label for="user_name">Imię i nazwisko:</label><br>
    <input type="text" id="user_name" placeholder="Np.: Factory Receipt"><br>

    <label for="address">Adres:</label><br>
    <input type="text" id="address" placeholder="Np.: Idzikowskiego 15"><br>

    <label for="city">Kod pocztowy i miasto:</label><br>
    <input type="text" id="city" placeholder="Np.: 02-022 Warszawa"><br>

    <label for="country">Kraj:</label><br>
    <input type="text" id="country" placeholder="Np.: Polska"><br>
  `;
}




    else if (shopName.toLowerCase() === "trapstar") {
  formHtml += `
    <label for="product_name">Nazwa produktu:</label><br>
    <input type="text" id="product_name" placeholder="Np.: Trapstar Hoodie"><br>

    <label for="price">Cena (zł):</label><br>
    <input type="text" id="price" placeholder="Np.: 437,00"><br>

    <label for="size">Rozmiar produktu:</label><br>
    <input type="text" id="size" placeholder="Np.: M"><br>

    <label for="product_color">Kolor produktu:</label><br>
    <input type="text" id="product_color" placeholder="Np.: Black"><br>

    <label for="user_name">Imię i nazwisko:</label><br>
    <input type="text" id="user_name" placeholder="Np.: Factory Receipt"><br>

    <label for="address">Adres dostawy:</label><br>
    <input type="text" id="address" placeholder="Np.: Idzikowskiego 15"><br>

    <label for="city">Miasto:</label><br>
    <input type="text" id="city" placeholder="Np.: Warszawa, 02-022"><br>

    <label for="country">Kraj:</label><br>
    <input type="text" id="country" placeholder="Np.: Poland"><br>

    <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
  `;
}




<!-- Notino Form -->
else if (shopName.toLowerCase() === "notino") {
  formHtml += `

    <label for="product_name">Nazwa produktu:</label><br>
    <input type="text" id="product_name" placeholder="Np.: DIOR Sauvage"><br>

    <label for="product_cat">Pojemność (ml) (opcjonalnie):</label><br>
    <input type="text" id="product_cat" placeholder="Np.: 100 ml"><br>

    <label for="price">Cena (zł):</label><br>
    <input type="text" id="price" placeholder="Np.: 508,00"><br>

    <label for="delivery_time">Data zamówienia:</label><br>
    <input type="text" id="delivery_time" placeholder="Np.: 07.11.2024"><br>

    <label for="delivery_arrived">Godzina zamówienia:</label><br>
    <input type="text" id="delivery_arrived" placeholder="Np.: 15:20"><br>

    <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
  `;
}

<!-- Supreme Form -->
else if (shopName.toLowerCase() === "supreme") {
  formHtml += `
    <label for="user_name">Imię i nazwisko:</label><br>
    <input type="text" id="user_name" placeholder="Np.: Factory Receipt"><br>

    <label for="delivery_time">Data zamówienia:</label><br>
    <input type="text" id="delivery_time" placeholder="Np.: Jun 19 2025 at 16:01"><br>

    <label for="address">Adres:</label><br>
    <input type="text" id="address" placeholder="Np.: Idzikowskiego"><br>

    <label for="address_n">Numer domu/mieszkania:</label><br>
    <input type="text" id="address_n" placeholder="Np.: 12A"><br>

    <label for="city">Miasto:</label><br>
    <input type="text" id="city" placeholder="Np.: Warsaw 02-022 Poland"><br>

    <label for="product_name">Nazwa produktu:</label><br>
    <input type="text" id="product_name" placeholder="Np.: Supreme T-shirt"><br>

    <label for="product_color">Kolor produktu:</label><br>
    <input type="text" id="product_color" placeholder="Np.: Black"><br>

    <label for="size">Rozmiar:</label><br>
    <input type="text" id="size" placeholder="Np.: Medium"><br>

    <label for="price">Cena (€):</label><br>
    <input type="text" id="price" placeholder="Np.: 120"><br>
  `;
}

else if (shopName.toLowerCase() === "goat") {
  formHtml += `
    <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>

    <label for="sku">Kod SKU:</label><br>
    <input type="text" id="sku" placeholder="Np.: 1J20 115 003 BLACK"><br>

    <label for="product_name">Nazwa produktu:</label><br>
    <input type="text" id="productName" placeholder="Np.: Air Jordan Retro 1"><br>

    <label for="size">Rozmiar:</label><br>
    <input type="text" id="size" placeholder="Np.: US 11/L"><br>

    <label for="brand_name">Marka produktu:</label><br>
    <input type="text" id="brandName" placeholder="Np.: Nike"><br>

    <label for="product_color">Kolor produktu:</label><br>
    <input type="text" id="product_color" placeholder="Np.: Black"><br>

    <label for="price">Cena ($):</label><br>
    <input type="text" id="price" placeholder="Np.: 150.00"><br>


    <label for="user_name">Imię i nazwisko:</label><br>
    <input type="text" id="user_name" placeholder="Np.: Factory Receipt"><br>

    <label for="address">Adres dostawy:</label><br>
    <input type="text" id="address" placeholder="Np.: Idzikowskiego 15"><br>

    <label for="city">Kod pocztowy i miasto:</label><br>
    <input type="text" id="city" placeholder="Np.: 02-022 Warszawa"><br>

    <label for="wojew">Województwo:</label><br>
    <input type="text" id="wojew" placeholder="Np.: Mazowieckie"><br>

    <label for="country">Kraj:</label><br>
    <input type="text" id="country" placeholder="Np.: Poland"><br>
  `;
}

else if (shopName.toLowerCase() === "balenciaga") {
  formHtml += `
    <label for="product_name">Nazwa produktu:</label><br>
    <input type="text" id="product_name" placeholder="Np.: Balenciaga Sneaker"><br>

    <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>

    <label for="product_color">Kolor produktu:</label><br>
    <input type="text" id="product_color" placeholder="Np.: Black"><br>

    <label for="size">Rozmiar:</label><br>
    <input type="text" id="size" placeholder="Np.: 42 EU"><br>

    <label for="price">Cena (€):</label><br>
    <input type="text" id="price" placeholder="Np.: 3,500.00"><br>

    <!-- final_price nie jest zbierany – będzie obliczany przez generator -->

    <label for="user_name">Imię i nazwisko:</label><br>
    <input type="text" id="user_name" placeholder="Np.: Factory Receipt"><br>

    <label for="address">Adres:</label><br>
    <input type="text" id="address" placeholder="Np.: Idzikowskiego 15"><br>

    <label for="city">Miasto:</label><br>
    <input type="text" id="city" placeholder="Np.: Warsaw"><br>

    <label for="country">Kraj:</label><br>
    <input type="text" id="country" placeholder="Np.: Poland"><br>

    <label for="zip_code">Kod pocztowy:</label><br>
    <input type="text" id="zip_code" placeholder="Np.: 02-022"><br>
  `;
}

else if (shopName.toLowerCase() === "louis vuitton") {
  formHtml += `
    <label for="product_name">Nazwa produktu:</label><br>
    <input type="text" id="product_name" placeholder="Np.: Louis Vuitton Bag"><br>

    <label for="styleid">Style ID:</label><br>
    <input type="text" id="styleid" placeholder="Np.: LV12345"><br>

    <label for="material">Materiał:</label><br>
    <input type="text" id="material" placeholder="Np.: 100% Cottton"><br>

    <label for="product_color">Kolor produktu:</label><br>
    <input type="text" id="product_color" placeholder="Np.: Czarne"><br>

    <label for="price">Cena (€):</label><br>
    <input type="text" id="price" placeholder="Np.: 3,500.00"><br>

    <label for="user_name">Imię i nazwisko:</label><br>
    <input type="text" id="user_name" placeholder="Np.: Factory Receipt"><br>

    <label for="address">Adres:</label><br>
    <input type="text" id="address" placeholder="Np.: Idzikowskiego 15"><br>

    <label for="city">Miasto:</label><br>
    <input type="text" id="city" placeholder="Np.: Warsaw"><br>

    <label for="country">Kraj:</label><br>
    <input type="text" id="country" placeholder="Np.: Poland"><br>

    <label>Link do zdjęcia lub plik:</label><br>
    <!-- Kontener z polem tekstowym i przyciskiem wyboru pliku -->
    <div class="file-input-wrapper" style="display:flex; align-items:center; gap:5px;">
      <input type="text" id="photo" placeholder="Np.: https://example.com/buty.jpg">
      <label for="fileUpload" class="file-upload-btn" style="cursor:pointer; background-color:#444; color:#fff; padding:5px 10px; border-radius:4px;">Wybierz plik</label>
      <input type="file" id="fileUpload" style="display:none;">
    </div>
  `;
}


    // Dodaj przycisk wysyłania
    formHtml += `
        <br>
        <button type="submit" id="submitBtn">
          <span>${translations[currentLanguage].shopForm.submit}</span>
          <div class="progress-bar"></div>
        </button>
      </form>`;
    const formContainer = document.getElementById('formContainer');
    formContainer.innerHTML = `<button class="closeBtn" onclick="closeModal()">✕</button>` + formHtml;

initializePhotoInput();

    // Jeśli formularz dotyczy sklepu Zalando, dodaj logikę formatującą datę
if (shopName.toLowerCase() === "zalando") {
  const orderDateInput = document.getElementById('orderDate');
  if (orderDateInput) {
    orderDateInput.addEventListener('blur', function() {
      // Użytkownik powinien wpisać datę w formacie "YYYY-MM-DD"
      let enteredDate = this.value.trim();
      let parsedDate = new Date(enteredDate);
      if (isNaN(parsedDate)) return; // jeśli data nieprawidłowa, wyjdź

      // Formatowanie daty zamówienia na "wt. 14, listopada 2024"
      const daysNames = ["nd.", "pon.", "wt.", "śr.", "czw.", "pt.", "sob."];
      const monthsFull = ["stycznia", "lutego", "marca", "kwietnia", "maja", "czerwca", "lipca", "sierpnia", "września", "października", "listopada", "grudnia"];
      let formattedOrderDate = daysNames[parsedDate.getDay()] + " " + parsedDate.getDate() + ", " + monthsFull[parsedDate.getMonth()] + " " + parsedDate.getFullYear();
      orderDateInput.value = formattedOrderDate;

      // Funkcja dodająca dni robocze (pomijając weekendy)
      function addBusinessDays(date, daysToAdd) {
        let result = new Date(date);
        while (daysToAdd > 0) {
          result.setDate(result.getDate() + 1);
          let day = result.getDay();
          if (day !== 0 && day !== 6) {
            daysToAdd--;
          }
        }
        return result;
      }

      // Obliczanie przewidywanej daty dostawy: earliest = +2 dni robocze, latest = +3 dni robocze
      let earliestDelivery = addBusinessDays(parsedDate, 2);
      let latestDelivery = addBusinessDays(parsedDate, 3);

      // Formatowanie dat dostawy z użyciem skróconych nazw miesięcy (np. "czw., 16 lis 2024")
      const monthsAbbr = ["sty", "lut", "mar", "kwi", "maj", "cze", "lip", "sie", "wrz", "paź", "lis", "gru"];
      function formatDeliveryDate(date) {
        return daysNames[date.getDay()] + ", " + date.getDate() + " " + monthsAbbr[date.getMonth()] + " " + date.getFullYear();
      }
      document.getElementById('deliveryArrived').value = formatDeliveryDate(earliestDelivery) + " - " + formatDeliveryDate(latestDelivery);
    });
  }
}


    document.getElementById('dynamicForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const submitBtn = document.getElementById('submitBtn');
      submitBtn.classList.add('loading');
      submitBtn.disabled = true;
      const userId = localStorage.getItem("loggedUserId");
      if (!userId) {
        submitBtn.classList.remove('loading');
        submitBtn.disabled = false;
        alert(translations[currentLanguage].noUser);
        return;
      }
      let payload = { userId: userId };
      if (shopName.toLowerCase() === "stockx") {
        payload.productName = document.getElementById('productName').value;
        payload.price = document.getElementById('price').value;
        payload.styleid = document.getElementById('styleid').value;
        payload.size = document.getElementById('size').value;
        payload.photo = document.getElementById('photo').value;
        payload.deliveryTime = document.getElementById('deliveryTime').value;
      }
      else if (shopName.toLowerCase() === "mediaexpert") {
        payload.productName = document.getElementById('productName').value;
        payload.price = document.getElementById('price').value;
        payload.productCode = document.getElementById('productCode').value;
        payload.photo = document.getElementById('photo').value;
        payload.deliveryTime = document.getElementById('deliveryTime').value;
        payload.address = document.getElementById('address').value;
        payload.city = document.getElementById('city').value;
        payload.phoneNumber = document.getElementById('phoneNumber').value;
      }
      else if (shopName.toLowerCase() === "zalando") {
        payload.productName = document.getElementById('productName').value;
        payload.productCat = document.getElementById('productCat').value;
        payload.productColor = document.getElementById('productColor').value;
        payload.price = document.getElementById('price').value;
        payload.size = document.getElementById('size').value;
        payload.photo = document.getElementById('photo').value;
        payload.orderDate = document.getElementById('orderDate').value;
        payload.deliveryArrived = document.getElementById('deliveryArrived').value;
        payload.address = document.getElementById('address').value;
        payload.city = document.getElementById('city').value;
        payload.userName = document.getElementById('userName').value;
      }
      else if (shopName.toLowerCase() === "dropsy") {
        payload.productName = document.getElementById('productName').value;
        payload.price = document.getElementById('price').value;
        payload.paczkomat = document.getElementById('paczkomat').value;
        payload.deliveryTime = document.getElementById('deliveryTime').value;
        payload.address = document.getElementById('address').value;
        payload.city = document.getElementById('city').value;
        payload.userName = document.getElementById('userName').value;
        payload.phoneNumber = document.getElementById('phoneNumber').value;
        payload.emailDane = document.getElementById('emailDane').value;
      }
      else if (shopName.toLowerCase() === "vitkac") {
        payload.productName = document.getElementById('productName').value;
        payload.price = document.getElementById('price').value;
        payload.size = document.getElementById('size').value;
        payload.email_dane = document.getElementById('emailDane').value;
        payload.userName = document.getElementById('userName').value;
        payload.address = document.getElementById('address').value;
        payload.city = document.getElementById('city').value;
        payload.country = document.getElementById('country').value;
        payload.phone_number = document.getElementById('phoneNumber').value;
      }
      else if (shopName.toLowerCase() === "grailed") {
        payload.price = document.getElementById('price').value;
        payload.size = document.getElementById('size').value;
        payload.photo = document.getElementById('photo').value;
        payload.userName = document.getElementById('userName').value;
        payload.address = document.getElementById('address').value;
        payload.city = document.getElementById('city').value;
        payload.country = document.getElementById('country').value;
        payload.productName = document.getElementById('productName').value;
        payload.productCat = document.getElementById('productCat').value;
        payload.productColor = document.getElementById('productColor').value;
        payload.condition = document.getElementById('condition').value;
      }
      else if (shopName.toLowerCase() === "farfetch") {
        payload.userName = document.getElementById('userName').value;
        payload.street = document.getElementById('street').value;
        payload.city = document.getElementById('city').value;
        payload.wojew = document.getElementById('wojew').value;
        payload.country = document.getElementById('country').value;
        payload.productName = document.getElementById('productName').value;
        payload.price = document.getElementById('price').value;
        payload.size = document.getElementById('size').value;
        payload.product_cat = document.getElementById('product_cat').value;
        payload.photo = document.getElementById('photo').value;
        payload.delivery_time = document.getElementById('delivery_time').value;
      }
      else if (shopName.toLowerCase() === "dorawa") {
        payload.userName = document.getElementById('userName').value;
        payload.address = document.getElementById('address').value;
        payload.city = document.getElementById('city').value;
        payload.productName = document.getElementById('productName').value;
        payload.price = document.getElementById('price').value;
        payload.size = document.getElementById('size').value;
        payload.productCode = document.getElementById('productCode').value;
      }
      else if (shopName.toLowerCase() === "corteiz") {
        payload.product_name = document.getElementById('product_name').value;
        payload.price = document.getElementById('price').value;
        payload.size = document.getElementById('size').value;
        payload.userName = document.getElementById('userName').value;
        payload.street = document.getElementById('street').value;
        payload.city = document.getElementById('city').value;
        payload.country = document.getElementById('country').value;
        payload.photo = document.getElementById('photo').value;
      }
      else if (shopName.toLowerCase() === "nike") {
        payload.userName = document.getElementById('userName').value;
        payload.productName = document.getElementById('productName').value;
        payload.price = document.getElementById('price').value;
        payload.size = document.getElementById('size').value;
        payload.address = document.getElementById('address').value;
        payload.city = document.getElementById('city').value;
        payload.country = document.getElementById('country').value;
        payload.photo = document.getElementById('photo').value;
        payload.delivery_time = document.getElementById('delivery_time').value;
        payload.delivery_arrived = document.getElementById('delivery_arrived').value;
        payload.productCat = document.getElementById('productCat').value;
      }
      else if (shopName.toLowerCase() === "confirmed") {
        payload.userName = document.getElementById('userName').value;
        payload.street = document.getElementById('street').value;
        payload.city = document.getElementById('city').value;
        payload.wojew = document.getElementById('wojew').value;
        payload.productName = document.getElementById('productName').value;
        payload.productColor = document.getElementById('productColor').value;
        payload.price = document.getElementById('price').value;
        payload.size = document.getElementById('size').value;
        payload.photo = document.getElementById('photo').value;
        payload.productCode = document.getElementById('productCode').value;
      }
      else if (shopName.toLowerCase() === "snkrs") {
        payload.product_name = document.getElementById('product_name').value;
        payload.price = document.getElementById('price').value;
        payload.size = document.getElementById('size').value;
        payload.user_name = document.getElementById('user_name').value;
        payload.address = document.getElementById('address').value;
        payload.city = document.getElementById('city').value;
        payload.country = document.getElementById('country').value;
        payload.photo = document.getElementById('photo').value;
        payload.delivery_time = document.getElementById('delivery_time').value;
        payload.delivery_arrived = document.getElementById('delivery_arrived').value;
        payload.product_cat = document.getElementById('product_cat').value;
      }
      else if (shopName.toLowerCase() === "grail point") {
        payload.product_name = document.getElementById('product_name').value;
        payload.price = document.getElementById('price').value;
        payload.user_name = document.getElementById('user_name').value;
        payload.size = document.getElementById('size').value;
        payload.delivery_time = document.getElementById('delivery_time').value;
        payload.street = document.getElementById('street').value;
        payload.city = document.getElementById('city').value;
        payload.phone_number = document.getElementById('phone_number').value;
        payload.photo = document.getElementById('photo').value;
      }
      else if (shopName.toLowerCase() === "moncler") {
        payload.price = document.getElementById('price').value;
        payload.size = document.getElementById('size').value;
        payload.photo = document.getElementById('photo').value;
        payload.user_name = document.getElementById('user_name').value;
        payload.street = document.getElementById('street').value;
        payload.city = document.getElementById('city').value;
        payload.country = document.getElementById('country').value;
        payload.product_name = document.getElementById('product_name').value;
        payload.product_color = document.getElementById('product_color').value;
        payload.condition = document.getElementById('condition').value;
      }

      else if (shopName.toLowerCase() === "trapstar") {
        payload.product_name   = document.getElementById('product_name').value;
        payload.size           = document.getElementById('size').value;
        payload.product_color  = document.getElementById('product_color').value;
        payload.price          = document.getElementById('price').value;
        payload.user_name      = document.getElementById('user_name').value;
        payload.address        = document.getElementById('address').value;
        payload.city           = document.getElementById('city').value;
        payload.country        = document.getElementById('country').value;
        payload.photo          = document.getElementById('photo').value;
      }

      else if (shopName.toLowerCase() === "notino") {
        payload.product_name    = document.getElementById('product_name').value;
        payload.product_cat     = document.getElementById('product_cat').value;
        payload.price           = document.getElementById('price').value;
        payload.delivery_time   = document.getElementById('delivery_time').value;
        payload.delivery_arrived = document.getElementById('delivery_arrived').value;
        payload.photo           = document.getElementById('photo').value;
    }




        else if (shopName.toLowerCase() === "supreme") {
            payload.user_name     = document.getElementById('user_name').value;
            payload.delivery_time = document.getElementById('delivery_time').value;
            payload.address       = document.getElementById('address').value;
            payload.address_n     = document.getElementById('address_n').value;
            payload.city          = document.getElementById('city').value;
            payload.product_name  = document.getElementById('product_name').value;
            payload.product_color  = document.getElementById('product_color').value;
            payload.size          = document.getElementById('size').value;
            payload.price         = document.getElementById('price').value;
        }






else if (shopName.toLowerCase() === "goat") {
  payload.photo         = document.getElementById('photo').value;
  payload.sku           = document.getElementById('sku').value;
  payload.productName   = document.getElementById('productName').value;
  payload.size          = document.getElementById('size').value;
  payload.brandName     = document.getElementById('brandName').value;
  payload.productColor  = document.getElementById('product_color').value;
  payload.price         = document.getElementById('price').value;
  payload.user_name      = document.getElementById('user_name').value;
  payload.address       = document.getElementById('address').value;
  payload.city          = document.getElementById('city').value;
  payload.wojew         = document.getElementById('wojew').value;
  payload.country       = document.getElementById('country').value;

}

else if (shopName.toLowerCase() === "ralph lauren") {
  payload.delivery_time = document.getElementById('delivery_time').value;
  payload.photo         = document.getElementById('photo').value;
  payload.product_name  = document.getElementById('product_name').value;
  payload.product_color = document.getElementById('product_color').value;
  payload.size          = document.getElementById('size').value;
  payload.styleid       = document.getElementById('styleid').value;
  payload.price         = document.getElementById('price').value;
  payload.user_name     = document.getElementById('user_name').value;
  payload.address       = document.getElementById('address').value;
  payload.city          = document.getElementById('city').value;
  payload.country       = document.getElementById('country').value;
}
else if (shopName.toLowerCase() === "balenciaga") {
  payload.product_name = document.getElementById('product_name').value;
  payload.photo         = document.getElementById('photo').value;
  payload.product_color = document.getElementById('product_color').value;
  payload.size          = document.getElementById('size').value;
  payload.price         = document.getElementById('price').value;
  payload.user_name     = document.getElementById('user_name').value;
  payload.address       = document.getElementById('address').value;
  payload.city          = document.getElementById('city').value;
  payload.country       = document.getElementById('country').value;
  payload.zip_code      = document.getElementById('zip_code').value;
}

else if (shopName.toLowerCase() === "louis vuitton") {
  payload.product_name   = document.getElementById('product_name').value;
  payload.styleid        = document.getElementById('styleid').value;
  payload.material       = document.getElementById('material').value;
  payload.product_color  = document.getElementById('product_color').value;
  payload.price          = document.getElementById('price').value;
  payload.user_name      = document.getElementById('user_name').value;
  payload.address        = document.getElementById('address').value;
  payload.city           = document.getElementById('city').value;
  payload.country        = document.getElementById('country').value;
  payload.photo          = document.getElementById('photo').value;
}



      fetch('/api/shops/' + shopName, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      })
      .then(response => {
        submitBtn.classList.remove('loading');
        submitBtn.disabled = false;
        if (!response.ok) throw new Error(translations[currentLanguage].errorSending + response.statusText);
        return response.text();
      })
      .then(data => {
        document.getElementById('formContainer').innerHTML =
          `<button class="closeBtn" onclick="closeModal()">✕</button><p>${data}</p>`;
        loadAccountData();
        setTimeout(closeModal, 2000);
      })
      .catch(error => {
        submitBtn.classList.remove('loading');
        submitBtn.disabled = false;
        document.getElementById('formContainer').innerHTML =
          `<button class="closeBtn" onclick="closeModal()">✕</button><p>${translations[currentLanguage].errorSending + error}</p>`;
      });
    });
  }
  function closeModal() {
    document.getElementById('modalOverlay').style.display = 'none';
  }
  document.getElementById('toggleEmailBtn').addEventListener('click', function() {
    const emailContainer = document.getElementById('emailContainer');
    if (emailContainer.style.display === 'none' || emailContainer.style.display === '') {
      emailContainer.style.display = 'block';
    } else {
      emailContainer.style.display = 'none';
    }
  });
  document.getElementById('emailForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const userId = localStorage.getItem("loggedUserId");
    if (!userId) {
      alert(translations[currentLanguage].noUser);
      return;
    }
    const newEmail = document.getElementById('newEmail').value;
    fetch('/api/account/updateEmail', {
      method: 'PUT',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ userId, newEmail })
    })
    .then(response => {
      if (!response.ok) return response.text().then(text => { throw new Error(text); });
      return response.text();
    })
    .then(data => {
      alert(translations[currentLanguage].successEmail + data);
      loadAccountData();
    })
    .catch(err => {
      alert(translations[currentLanguage].errorEmail + err.message);
    });
  });
  function logout() {
    localStorage.removeItem('loggedUserId');
    localStorage.removeItem('jwtToken');
    window.location.href = 'login.html';
  }
  window.onload = function() {
    updateText();
    loadAccountData();
    setLanguage(currentLanguage);
  };
</script>
<!-- Modal na formularz generowania potwierdzenia -->
<div id="modalOverlay">
  <div id="formContainer">
    <button class="closeBtn" onclick="closeModal()">✕</button>
  </div>
</div>
<script>
  // Globalne tablice pomocnicze
  const days = ["nd.", "pon.", "wt.", "śr.", "czw.", "pt.", "sob."];
  const monthsFull = ["stycznia", "lutego", "marca", "kwietnia", "maja", "czerwca", "lipca", "sierpnia", "września", "października", "listopada", "grudnia"];
  const monthsAbbr = ["sty", "lut", "mar", "kwi", "maj", "cze", "lip", "sie", "wrz", "paź", "lis", "gru"];
</script>
<script src="js/logo-adjust.js"></script>
<script src="js/textanim.js"></script>
<script src="js/photoinput.js"></script>



</body>
</html>